2018-08-07 00:09:07,339 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 00:09:07,386 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 00:09:07,386 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 00:39:07,395 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 00:39:07,395 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 00:39:07,395 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 01:09:07,404 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 01:09:07,404 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 01:09:07,404 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 01:39:07,414 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 01:39:07,414 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 01:39:07,414 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 02:09:07,423 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 02:09:07,423 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 02:09:07,423 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 02:39:07,432 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 02:39:07,432 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 02:39:07,432 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 03:09:07,441 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 03:09:07,441 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 03:09:07,441 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 03:39:07,450 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 03:39:07,450 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 03:39:07,450 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 04:09:07,459 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 04:09:07,459 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 04:09:07,459 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 04:39:07,468 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 04:39:07,468 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 04:39:07,468 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 05:09:07,478 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 05:09:07,478 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 05:09:07,478 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 05:39:07,487 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 05:39:07,487 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 05:39:07,487 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 06:09:07,496 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 06:09:07,496 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 06:09:07,496 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 06:39:07,505 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 06:39:07,505 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 06:39:07,505 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 07:09:07,545 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 07:09:07,655 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 07:09:07,670 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 07:39:07,679 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 07:39:07,679 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 07:39:07,679 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 08:09:07,689 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 08:09:07,689 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 08:09:07,689 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 08:39:07,698 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 08:39:07,698 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 08:39:07,698 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 09:09:07,707 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 09:09:07,707 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 09:09:07,707 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 09:39:07,716 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 09:39:07,716 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 09:39:07,716 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 10:09:07,725 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 10:09:07,741 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 10:09:07,741 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 10:39:07,750 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 10:39:07,750 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 10:39:07,750 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 11:09:07,759 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 11:09:07,759 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 11:09:07,759 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 11:39:07,768 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 11:39:07,768 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 11:39:07,768 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 12:09:07,778 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 12:09:07,778 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 12:09:07,778 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 12:39:07,787 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 12:39:07,787 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 12:39:07,787 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 13:09:07,796 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 13:09:07,796 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 13:09:07,796 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 13:39:07,805 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 13:39:07,805 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 13:39:07,805 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 14:09:07,814 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 14:09:07,814 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 14:09:07,814 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 14:39:07,823 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 14:39:07,823 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 14:39:07,823 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 15:09:07,832 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 15:09:07,832 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 15:09:07,832 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 15:39:07,842 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 15:39:07,842 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 15:39:07,842 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 16:09:07,851 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 16:09:07,851 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 16:09:07,851 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 16:13:45,781 [49] ERROR Umbraco.Core.Persistence.UmbracoDatabase - Database exception occurred
System.Data.SqlClient.SqlException (0x80131904): 事务(进程 ID 54)与另一个进程被死锁在 锁 资源上，并且已被选作死锁牺牲品。请重新运行该事务。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteNonQuery()
   在 Umbraco.Core.Persistence.PetaPocoCommandExtensions.<>c__DisplayClass1.<ExecuteNonQueryWithRetry>b__0()
   在 Umbraco.Core.Persistence.FaultHandling.RetryPolicy.ExecuteAction[TResult](Func`1 func)
   在 Umbraco.Core.Persistence.Database.Update(String tableName, String primaryKeyName, Object poco, Object primaryKeyValue, IEnumerable`1 columns)
   在 Umbraco.Core.Persistence.Database.Update(Object poco, Object primaryKeyValue, IEnumerable`1 columns)
   在 Umbraco.Core.Persistence.Repositories.ServerRegistrationRepository.PersistUpdatedItem(IServerRegistration entity)
   在 Umbraco.Core.Cache.DefaultRepositoryCachePolicy`2.CreateOrUpdate(TEntity entity, Action`1 persistMethod)
   在 Umbraco.Core.Persistence.Repositories.RepositoryBase`2.PersistUpdatedItem(IEntity entity)
   在 Umbraco.Core.Persistence.UnitOfWork.PetaPocoUnitOfWork.Commit(Action`1 transactionCompleting)
   在 Umbraco.Core.Services.ServerRegistrationService.<>c__DisplayClass6.<TouchServer>b__2(LockedRepository`1 xr)
   在 Umbraco.Core.Persistence.LockingRepository`1.WithWriteLocked(Action`1 action, Boolean autoCommit)
   在 Umbraco.Core.Services.ServerRegistrationService.TouchServer(String serverAddress, String serverIdentity, TimeSpan staleTimeout)
   在 Umbraco.Web.Strategies.ServerRegistrationEventHandler.TouchServerTask.PerformRun()
ClientConnectionId:bde2b0c8-3f89-4986-ba56-87fb2d2cd7a9
Error Number:1205,State:51,Class:13
2018-08-07 16:13:45,812 [49] ERROR Umbraco.Web.Strategies.ServerRegistrationEventHandler - Failed to update server record in database.
System.Data.SqlClient.SqlException (0x80131904): 事务(进程 ID 54)与另一个进程被死锁在 锁 资源上，并且已被选作死锁牺牲品。请重新运行该事务。
   在 System.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   在 System.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   在 System.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   在 System.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean async, Int32 timeout, Task& task, Boolean asyncWrite, SqlDataReader ds)
   在 System.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, String methodName, Boolean sendToPipe, Int32 timeout, Boolean asyncWrite)
   在 System.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   在 StackExchange.Profiling.Data.ProfiledDbCommand.ExecuteNonQuery()
   在 Umbraco.Core.Persistence.PetaPocoCommandExtensions.<>c__DisplayClass1.<ExecuteNonQueryWithRetry>b__0()
   在 Umbraco.Core.Persistence.FaultHandling.RetryPolicy.ExecuteAction[TResult](Func`1 func)
   在 Umbraco.Core.Persistence.Database.Update(String tableName, String primaryKeyName, Object poco, Object primaryKeyValue, IEnumerable`1 columns)
   在 Umbraco.Core.Persistence.Database.Update(Object poco, Object primaryKeyValue, IEnumerable`1 columns)
   在 Umbraco.Core.Persistence.Repositories.ServerRegistrationRepository.PersistUpdatedItem(IServerRegistration entity)
   在 Umbraco.Core.Cache.DefaultRepositoryCachePolicy`2.CreateOrUpdate(TEntity entity, Action`1 persistMethod)
   在 Umbraco.Core.Persistence.Repositories.RepositoryBase`2.PersistUpdatedItem(IEntity entity)
   在 Umbraco.Core.Persistence.UnitOfWork.PetaPocoUnitOfWork.Commit(Action`1 transactionCompleting)
   在 Umbraco.Core.Services.ServerRegistrationService.<>c__DisplayClass6.<TouchServer>b__2(LockedRepository`1 xr)
   在 Umbraco.Core.Persistence.LockingRepository`1.WithWriteLocked(Action`1 action, Boolean autoCommit)
   在 Umbraco.Core.Services.ServerRegistrationService.TouchServer(String serverAddress, String serverIdentity, TimeSpan staleTimeout)
   在 Umbraco.Web.Strategies.ServerRegistrationEventHandler.TouchServerTask.PerformRun()
ClientConnectionId:bde2b0c8-3f89-4986-ba56-87fb2d2cd7a9
Error Number:1205,State:51,Class:13
2018-08-07 16:39:07,860 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 16:39:07,860 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 16:39:07,860 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 17:09:07,869 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 17:09:07,869 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 17:09:07,869 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 17:39:07,878 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 17:39:07,878 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 17:39:07,878 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 18:09:07,887 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 18:09:07,887 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 18:09:07,887 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 18:39:07,897 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 18:39:07,897 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 18:39:07,897 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 19:09:07,906 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 19:09:07,906 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 19:09:07,906 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 19:21:04,555 [235] INFO  SkieerWeb - [Braintree Webhook Received 2018/8/7 11:21:00] | Kind: subscription_charged_successfully
2018-08-07 19:21:26,349 [49] ERROR SkieerWeb - GetAvailableCoupon Error. UserId:824d6d64-57fe-4b34-8415-83d9e270edce
System.Net.WebException: 无法连接到远程服务器 ---> System.Net.Sockets.SocketException: 由于连接方在一段时间后没有正确答复或连接的主机没有反应，连接尝试失败。 101.200.193.134:9002
   在 System.Net.Sockets.Socket.DoConnect(EndPoint endPointSnapshot, SocketAddress socketAddress)
   在 System.Net.ServicePoint.ConnectSocketInternal(Boolean connectFailure, Socket s4, Socket s6, Socket& socket, IPAddress& address, ConnectSocketState state, IAsyncResult asyncResult, Exception& exception)
   --- 内部异常堆栈跟踪的结尾 ---
   在 System.Net.HttpWebRequest.GetResponse()
   在 Octoparse.Web.HttpHelper.RESTFullRequest(RequestType method, String url, Object bodyContent, String authorization, String contentType)
   在 Octoparse.Web.HttpHelper.Get[T](String url)
   在 Octoparse.Web.Controllers.SubscribeController.GetAvailableCoupon(String userId, PlanType newPlanType, Decimal newPrice, Decimal nowBillingAmount)
2018-08-07 19:39:07,915 [47] INFO  SkieerWeb - RefundJob checking.
2018-08-07 19:39:07,915 [47] INFO  SkieerWeb - IsEnabledRefund = False
2018-08-07 19:39:07,915 [47] INFO  SkieerWeb - RefundJob waiting 30 minutes.
2018-08-07 19:58:38,603 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [KeepAlive] Terminating
2018-08-07 19:58:38,603 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [KeepAlive] Waiting for tasks to complete
2018-08-07 19:58:38,759 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [Umbraco.Web.Scheduling.IBackgroundTask] Terminating
2018-08-07 19:58:38,759 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [Umbraco.Web.Scheduling.IBackgroundTask] Waiting for tasks to complete
2018-08-07 19:58:38,947 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [Umbraco.Web.Scheduling.IBackgroundTask] Tasks completed, terminated
2018-08-07 19:58:38,947 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [ScheduledPublishing] Terminating
2018-08-07 19:58:38,947 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [ScheduledPublishing] Waiting for tasks to complete
2018-08-07 19:58:38,978 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [ScheduledPublishing] Tasks completed, terminated
2018-08-07 19:58:38,978 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [KeepAlive] Tasks completed, terminated
2018-08-07 19:58:38,978 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [LogScrubber] Terminating
2018-08-07 19:58:38,978 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [LogScrubber] Waiting for tasks to complete
2018-08-07 19:58:39,025 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [LogScrubber] Tasks completed, terminated
2018-08-07 19:58:39,087 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [ScheduledTasks] Terminating
2018-08-07 19:58:39,087 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [ScheduledTasks] Waiting for tasks to complete
2018-08-07 19:58:39,087 [49] INFO  Umbraco.Web.Scheduling.BackgroundTaskRunner - [ScheduledTasks] Tasks completed, terminated
2018-08-07 19:59:10,583 [49] INFO  Umbraco.Core.UmbracoApplicationBase - Application shutdown. Details: HostingEnvironment

_shutDownMessage=HostingEnvironment initiated shutdown
HostingEnvironment 导致关闭

_shutDownStack=   在 System.Environment.GetStackTrace(Exception e, Boolean needFileInfo)
   在 System.Environment.get_StackTrace()
   在 System.Web.Hosting.HostingEnvironment.InitiateShutdownInternal()
   在 System.Web.Hosting.PipelineRuntime.StopProcessing()
