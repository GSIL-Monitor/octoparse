@using Umbraco.Web;
@model Octoparse.Web.Models.LocalPasswordModel

<div class="container">
  <h1>Change Password</h1>
  @if (ViewBag.IsChanged == null ||  ViewBag.IsChanged==false)
  {
    Html.EnableClientValidation(); 
    using (Html.BeginUmbracoForm("ChangePwd", "Account", null, new { @id="changePasswordForm"}))
    {
      <div class="form-group">
        @Html.PasswordFor(m => m.OldPassword, new { @class = "form-control", @placeholder = "Current password" })
        @Html.ValidationMessageFor(m => m.OldPassword)
      </div>
      <div class="form-group" style="margin-bottom:10px;">
        @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control", @placeholder = "New password" })
        @Html.ValidationMessageFor(m => m.NewPassword)       
      </div>
      <div class="form-group" style="margin-bottom:0px;">
        @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", @placeholder = "Confirm new password" })
        @Html.ValidationMessageFor(m => m.ConfirmPassword)    
      </div>
      <div class="form-group" style="padding-top:10px;">
        @Html.ValidationSummary(true)
      </div>               
      <div class="submit-btn-box">
        <input type="submit" value="Apply" class="btn-regular"/>
      </div>
    }
  }
  else
  {
    <div class="alert alert-success">Change password successfully.</div>
    <a class="btn btn-primary" style="margin-bottom:30px" href="/login" >Log in</a>
  }
</div>